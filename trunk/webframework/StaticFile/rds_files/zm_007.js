zm.install("emotions",{renderEmotions:function(){for(var b=0;b<this.size();b++){var a=zm(this[b]).html();a=zm.renderEmotions(a);zm(this[b]).html(a)}return this},attachEmoButtons:function(e,b){if(!zm.plugins.emotions.initialized){zm.plugins.emotions.init();zm.plugins.emotions.initialized=true}function a(g){var i=zm(g),m=zm.getViewport(),k=zm("#zm-emo-list");if(b&&zm.isFunction(b.position)){b.position.call(k,i)}else{var f=i.offset(true),p=f.top+i.outerHeight(),h=f.left,n=k.outerWidth(),j=k.outerHeight();if(f.left+n>m.offsetX+m.width){h-=(n-i.outerWidth())}k.css("left",h+"px");if(f.top+i.outerHeight()+j>m.offsetY+m.height){p-=(25+j)}k.css("top",p+"px")}}for(var d=0;d<this.size();d++){if(!zm.data(this[d],"emotions.attached")){b&&zm.data(zm("#"+(e||"")+this[d].getAttribute("rel").substr(4))[0],"emotions.options",b);zm(this[d]).mousedown(function(){var h=this,i=zm("#zm-emo-list");zm.plugins.emotions.button=h;var f=h.getAttribute("rel"),g=zm("#"+(e||"")+(f&&f.substr(4)))[0];if(!g||g.disabled){return true}if(zm.plugins.emotions.currentEditor===null||zm.plugins.emotions.currentEditor!=g){zm.plugins.emotions.show=false}zm.plugins.emotions.currentEditor=g;if(zm.plugins.emotions.show){zm.plugins.emotions.show=false;i.hide()}else{zm.plugins.emotions.show=true;i.show();a(h)}return true}).mouseup(function(){var f=this;setTimeout(function(){zm(f).clickOutsideWith(zm("#zm-emo-list"))},200)},-1).blur(function(){if(!zm.plugins.emotions.enterEmoList){if(zm.plugins.emotions.button==this){zm.plugins.emotions.show=false;zm("#zm-emo-list").hide();zm.plugins.emotions.currentEditor=null}}}).attr("tabIndex",0);var c=this[d];if(b){b.windowScroll&&zm(window).scroll(function(){a(c)});b.windowResize&&zm(window).resize(function(){a(c)})}zm.data(this[d],"emotions.attached",true)}}}},function(){zm.plugins.emotions.init=function(){var b,a=[":)",":~",":B",":|","8-)",":-((",":$",":X",":Z",":((",":-|",":-H",":P",":D",":o",":(",":+","--B",":Q",":T",";P",";-D",";D",";O",";G","|-)",":!",":L",":>",":;",";F",";-S",";?",";-X",":-F",";8",";!",";-!",";XX",":-BYE",":WIPE",":-DIG",":handclap","&-(","B-)",":-L",":-R",":-O",">-|","P-(",":--|","X-)",":*",";-A","8*","/-showlove","/-rose","/-fade","/-heart","/-break","/-coffee","/-cake","/-li","/-bome","/-bd","/-shit","/-strong","/-weak","/-share","/-v","/-thanks","/-jj","/-punch","/-bad","/-loveu","/-no","/-ok","/-flag","/-z"],d=new Array();for(b=0;b<a.length;b++){d.push(a[b].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))}var c=new Array();for(b=0;b<a.length;b++){c.push({orgCode:a[b],code:d[b],src:'<img src="http://'+(zm.config!=undefined?zm.config.hostImage:"static.me.zing.vn")+"/images/smilley/default/"+(b+1).toString()+'.jpg" />'})}zm.plugins.emotions.data=c;zm.plugins.emotions.clickHandlersFor=[];zm.plugins.emotions.enterEmoList=false;zm.ready(function(){var g,e=zm.createElement("DIV",{id:"zm-emo-list"},{display:"none"}),h=zm.plugins.emotions.data;for(g=0;g<h.length;g++){var f=zm.createElement("SPAN",{title:h[g].orgCode});zm(f).html(h[g].src).click(function(){setTimeout("zm('#zm-emo-list').hide();",100);zm.plugins.emotions.show=false;var l=zm.plugins.emotions.currentEditor;if(l!=null){var n=this,i;if(n.tagName=="IMG"){i=n.src;n=zm(n).parents()[0]}zm.plugins.emotions.showingEmots=false;try{var j=zm(l),r=zm.data(l,"emotions.options");if(j.css("display")!="none"||r.force){var q=r&&r.insert,k=zm(n),o=k.attr("title");if(!i){i=k.children().attr("src")}if(zm.isFunction(q)){q.call(l,o,i)}else{var p=r&&r.beforeInsert,m=true;if(zm.isFunction(p)){m=p.call(l,o,i)}m!==false&&j.insertAtCaret(o)}}}catch(n){}zm.plugins.emotions.currentEditor=null}}).mouseenter(function(){zm.plugins.emotions.enterEmoList=true}).mouseleave(function(){zm.plugins.emotions.enterEmoList=false});e.appendChild(f)}document.body.appendChild(e)})};zm.extend(zmCore,{renderEmotions:function(g,c){if(!zm.plugins.emotions.initialized){zm.plugins.emotions.init();zm.plugins.emotions.initialized=true}var h=zm.plugins.emotions.data,a=c&&c.preventEntities||false,f=c&&c.preventLink||false;function e(d){return d.replace(new RegExp("(\\S*)("+i.code+")","gi"),function(l,k,j){if((a&&/&amp|&lt|&gt/.test(k)&&j.indexOf(";")==0)||(f&&/http:\/\/.*/.test(k))){return l}else{return e(k)+i.src}})}for(var b=0,i;i=h[b];b++){if(a||f){g=e(g)}else{g=g.replace(new RegExp(i.code,"gi"),i.src)}}return g}})});zm.install("autoresize",{autoResize:function(b){if(!zm.plugins.autoresize.initialized){zm.plugins.autoresize.init();zm.plugins.autoresize.initialized=true}for(var c=0,d;d=this[c];c++){if(!zm.data(d,"autoresize.height")){zm.data(d,"autoresize.height",zm(d).height())}}var a=function(){zm.plugins.autoresize.resizing=this;if(zm.plugins.autoresize.timer){clearTimeout(zm.plugins.autoresize.timer)}zm.plugins.autoresize.timer=setTimeout(function(){var l=zm.plugins.autoresize.resizing;if(zm.data(l,"autoresize.stop")){return}var s=zm(l),p=s.width();if(p<=0){return}var f,r=zm.plugins.autoresize.styles,m=zm("#zmjs-text-resize"),n=zm.data(l,"autoresize.height"),q=s.val()+"&";for(f=0;f<r.length;f++){m.css(r[f],s.css(r[f]))}m.css("width",p+"px");var o=zm.data(l,"autoresize.lineheight");if(!o){m.text("&");o=m.height();zm.data(l,"autoresize.lineheight",o)}if(zm.browser.msie&&zm.browser.version>8){m[0].innerText=q}else{m.text(q)}var g=m.height();if(g<=n){g=n}else{g+=o}var k;if(b&&zm.isFunction(b.onresize)){var j=s.height();if(g!=j){k=b.onresize.call(l,g,j)}}k!==false&&s.css("height",g+"px")},50)};this.change(a).keydown(a).keyup(a).focus(a);return this}},function(){zm.plugins.autoresize.init=function(){var a=["font-family","font-size","font-weight","line-height","text-decoration","letter-spacing","word-spacing","text-indent"];zm.plugins.autoresize.styles=a;zm.ready(function(){var b=zm.createElement("DIV",{id:"zmjs-text-resize"},{padding:0,margin:0,border:0,wordWrap:"break-word",position:"absolute",left:"-9999px",top:"-9999px"});if(zm.browser.msie&&zm.browser.version<9){zm(b).css("_whiteSpace","pre-wrap")}else{zm(b).css("whiteSpace","pre-wrap")}document.body.appendChild(b)})}});zm.install("boxy",{},function(){zm.plugins.boxy.defOptions={noTitle:false,title:"",content:"",closeButton:true,footer:true,modal:true,okButton:"Đồng ý",cancelButton:"",center:true,animated:true,scroll:true,revert:false};zm.plugins.boxy.zIndex=1001;zm.plugins.boxy.instances=new Array();zm.Boxy=function(t){var w,E,F,A,D,f,n,o,O,i,C,P=zm.extend({},zm.plugins.boxy.defOptions,t),j=this,T=false,e=null,z=null,g=false,L,J,d,c,H,G;p();y(P.zIndex);P.isTop&&k();zm.plugins.boxy.instances.push(this);function p(){var Y=zm.createElement("DIV",{"class":"zme-boxy"}),W=zm.createElement("DIV",{"class":"zme-boxy-wrapper"+(P.modal?" zme-boxy-modal":"")},{display:"none"}),X=P.contentClass?(" "+P.contentClass):"",V=P.titleClass?(" "+P.titleClass):"";D=zm.createElement("DIV",{"class":"zme-boxy-body"});F=zm.createElement("DIV",{"class":"zme-boxy-container"+X});A=zm.createElement("DIV",{"class":"zme-boxy-title"+V});n=zm.createElement("DIV",{"class":"zme-boxy-content"});u(P.title);K(P.header);h(P.content);F.appendChild(A);D.appendChild(n);if(P.footer){o=zm.createElement("DIV",{"class":"zme-boxy-footer"});D.appendChild(o);P.okButton&&q();P.cancelButton&&v()}F.appendChild(D);Y.appendChild(F);W.appendChild(Y);document.body.appendChild(W);P.closeButton&&R();!(zm.browser.msie&&zm.browser.version<7)&&N();w=zm(Y);E=zm(W);w.keydown(function(Z){if(Z.keyCode==27){j.close(false,true)}})}function q(){if(o){O=zm.createElement("A",{"class":"btn_L3",tabIndex:"0",href:"#"});r(0);zm(O).click(function(){j.close(true);return false}).html("<em>"+P.okButton+"</em>");o.appendChild(O)}}function v(){if(o){i=zm.createElement("A",{"class":"btn_L5",tabIndex:"0",href:"#"});r(1);zm(i).click(function(){j.close(false);return false}).html("<em>"+P.cancelButton+"</em>");P.revert?o.insertBefore(i,O):o.appendChild(i)}}function R(){C=zm.createElement("A",{"class":"zme-boxy-close",href:"#"});r(2);F.appendChild(C);zm(C).click(function(){j.close("close");return false})}function r(X){var V="",W;if(X==0){if(P.okClass){V=P.okClass}else{V="btn_L3"}W=O}else{if(X==1){if(P.cancelClass){V=P.cancelClass}else{V="btn_L5"}W=i}else{if(X==2){if(P.closeClass){V=P.closeClass}else{V="zme-boxy-close"}W=C}}}W&&zm(W).attr("class",V)}function N(){zm(A).mousedown(U);zm.browser.msie&&zm(A).bind("selectstart",function(){return false});zm(document).mousemove(x).mouseup(B);this.moved=false}function k(V){if(V!=undefined){P.isTop=V}if(P.isTop){if(!j.stopOutside){j.stopOutside=function(W){B();P.isTop&&W.stopPropagation()};w.mouseup(j.stopOutside)}}else{j.stopOutside&&w.unbind("mouseup",j.stopOutside)}}function u(V){if(V){P.title=V}if(P.title){zm(A).html(P.title).show()}else{zm(A).hide()}}function K(V){if(V){P.header=V}if(!f&&!P.header){return}if(P.header){if(!f){f=zm.createElement("DIV",{"class":"zme-boxy-header"});zm(f).html(P.header);zm(D).prepend(f)}else{zm(f).html(P.header).show()}}else{if(f){zm(f).hide()}}}function h(V){if(V){P.content=V}if(n&&P.content){var W=P.content;if(zm.isString(W)){zm(n).html(W)}else{zm(n).html("").append(W)}}}function S(){if(P.footer){if(!o){o=zm.createElement("DIV",{"class":"zme-boxy-footer"});D.appendChild(o)}else{zm(o).show()}}else{o&&zm(o).hide()}}function Q(){if(P.okButton){O?zm(O).html("<em>"+P.okButton+"</em>").show():q()}else{if(P.okButton===false&&O){zm(O).hide()}}}function M(){if(P.cancelButton){i?zm(i).html("<em>"+P.cancelButton+"</em>").show():v()}else{if(P.cancelButton===false&&i){zm(i).hide()}}}function m(){if(P.closeButton){C?zm(C).show():R()}else{C&&zm(C).hide()}}function y(V){if(V&&typeof V=="number"){P.zIndex=V}P.zIndex&&E.css("z-index",zm.plugins.boxy.zIndex+P.zIndex)}function l(){E[P.modal?"addClass":"removeClass"]("zme-boxy-modal")}function s(){if(A&&zm.isString(P.titleClass)){zm(A).attr("class","zme-boxy-title "+P.titleClass)}var V=P.contentClass;if(zm.isString(V)){zm(F).attr("class","zme-boxy-container "+V)}if(zm.isString(P.okClass)){r(0)}if(zm.isString(P.cancelClass)){r(1)}if(zm.isString(P.closeClass)){r(2)}}function I(){zm.isFunction(P.beforeShow)&&P.beforeShow.call(j);E.show();T=true;j.locate();if(P.okButton&&P.autoFocus!=false){try{O&&zm(O).focus()}catch(V){}}}function U(W){g=true;var X=zm(this).offset(true);L=X.left;J=X.top;var V=zm.Boxy.mousePosition(W);d=V.left;c=V.top;return false}function x(X){if(g){j.moved=true;var V=zm.Boxy.mousePosition(X),W=zm.getViewport();if(zm.browser.msie){H=V.left-d+L-8-W.offsetX;G=V.top-c+J-8-W.offsetY}else{H=V.left-d+L-W.offsetX-8;G=V.top-c+J-W.offsetY-8}j.moveTo(H,G,false)}}function B(){g=false;j.moved=false}this.centerX=function(){var W,V=w.outerWidth(),X=zm.getViewport();W=Math.round((X.width-V)/2);if(zm.isNumber(P.offsetLeft)){W+=P.offsetLeft}w.css("left",(W<0?"0":W)+"px")};this.centerY=function(){var W,X=w.outerHeight(),V=zm.getViewport();if(e==null){e=V.height}W=Math.round((e-X)/2);if(z!=null){W+=z-P.iframeTopOffset}if(zm.isNumber(P.offsetTop)){W+=P.offsetTop}w.css("top",(W<0?"0":W)+"px");e=null};this.center=function(){this.centerX();this.centerY()};this.locate=function(){if(this.moved){return}if(zm.isFunction(P.setPosition)){P.setPosition.call(this)}else{P.center&&this.center()}};this.moveTo=function(V,X,W){this.moveToX(V,W);this.moveToY(X,W)};this.moveToX=function(V,W){if(V!=undefined){if(V=="center"){this.centerX()}else{w.css("left",V+"px")}}};this.moveToY=function(W,V){if(W!=undefined){if(W=="center"){this.centerY()}else{if(z!=null&&V!=false){W+=z-P.iframeTopOffset}w.css("top",W+"px")}}};this.show=function(){if(T){return}if(typeof zmXCall!="undefined"&&typeof P.iframeTopOffset=="number"){zmXCall.getTop(function(V){e=V.height;z=V.top;I()})}else{e=z=null;I()}};this.hide=function(V){if(!T){return}zm.isFunction(P.beforeHide)&&P.beforeHide();var W=P.afterHide;if(V!==false&&P.animated){if(zm.browser.msie){E.hide();zm.isFunction(W)&&W()}else{E.fadeOut(100,W)}}else{E.hide();zm.isFunction(W)&&W()}T=false;if(this==zm.plugins.boxy.alertInstance&&zm.plugins.boxy.alertTimeout){clearTimeout(zm.plugins.boxy.alertTimeout)}};this.isShowing=function(){return T};this.getElement=function(){return w[0]};this.setTitle=function(V){u(V);return this};this.setHeader=function(V){K(V);return this};this.setContent=function(V){h(V);this.locate();return this};this.close=function(W){var V=true;if(W==="close"){zm.isFunction(P.onClose)&&P.onClose.call(this)}else{if(W){if(zm.isFunction(P.onOk)){V=P.onOk.call(this)}}else{if(zm.isFunction(P.onCancel)){V=P.onCancel.call(this)}}}V!==false&&this.hide()};this.changeSettings=function(V){if(!V){return}if(!P){P=zm.plugins.boxy.defOptions}P=zm.extend(P,V);zm.isString(V.title)&&u();zm.isString(V.header)&&K();zm.isString(V.content)&&h();l();S();Q();M();m();y();k();s()};this.getSettings=function(){return P}};function b(){var e=zm.plugins.boxy.instances;for(var d=0,c;c=e[d];d++){c.locate()}}function a(){var e=zm.plugins.boxy.instances;for(var d=0,c;c=e[d];d++){if(c.isShowing()&&c.getSettings().hideOnClickOutside){if(zm.inArray(c.getElement(),zm(this).parents())==-1){c.close("close")}}}}zm.ready(function(){var c=zm(window);c.resize(b);if(zm.browser.msie&&zm.browser.version<7){c.scroll(b)}zm(document.body).mouseup(a)});zm.extend(zm.Boxy,{alert:function(e,h,g,c){var f;if(zm.plugins.boxy.alertInstance){f=zm.plugins.boxy.alertInstance}else{f=new zm.Boxy({zIndex:100});zm.plugins.boxy.alertInstance=f}var d={contentClass:"lbx_widsml",isTop:false};zm.extend(d,c,{content:e,title:h});f.changeSettings(d);f.show();if(g){zm.plugins.boxy.alertTimeout=setTimeout(function(){f.hide()},g)}},stopAlert:function(){zm.plugins.boxy.alertInstance&&zm.plugins.boxy.alertInstance.hide()},confirm:function(e,g,c){var f=zm.plugins.boxy.confirmInstance;if(!f){f=new zm.Boxy({zIndex:99});zm.plugins.boxy.confirmInstance=f}var d={contentClass:"lbx_widsml",isTop:false};zm.extend(d,c,{content:e,onOk:g});f.changeSettings(d);f.show()},stopConfirm:function(c){zm.plugins.boxy.confirmInstance&&zm.plugins.boxy.confirmInstance.hide(c)},mousePosition:function(d){if(d.pageX||d.pageY){return{left:d.pageX,top:d.pageY}}else{var c=document.documentElement||document.body;return{left:(d.clientX+c.scrollLeft-c.clientLeft),top:(d.clientY+c.scrollTop-c.clientTop)}}}})});zm.install("dragdrop",{startDragDrop:function(i){if(!this[0]){return}var h=this[0];if(zm.data(h,"dragdrop.start")==true){return}zm.data(h,"dragdrop.start",true);var d=0,f,a,b,c=null,e={};this.children().each(function(){zm.data(this,"dragdrop.index",d);d++});f=function(){var j=this;if(j){while(j.parentNode!=h){j=j.parentNode;if(!j){return false}}c=j;zm(c).addClass("zme-dragging");i&&zm.isFunction(i.onDragging)&&i.onDragging.call(c)}return false};a=function(n){if(c){var m=this;while(m.parentNode!=h){m=m.parentNode;if(!m){return}}if(m!=c){var l=zm(h).children(),j=zm.inArray(c,l);for(var k=0,o;o=l[k];k++){if(o==m){if(k==l.size()-1){h.appendChild(c)}else{if(k>j){h.insertBefore(o,c)}else{h.insertBefore(c,o)}}break}}}if(zm.browser.msie&&n.button==0){if(m!=h){zm(c).removeClass("zme-dragging");i&&zm.isFunction(i.onStopDragging)&&i.onStopDragging.call(c);c=null}}}};b=function(){if(c){zm(c).removeClass("zme-dragging");i&&zm.isFunction(i.onStopDragging)&&i.onStopDragging.call(c)}c=null};e.mousedown=[this.mousedown(f),f];e.mousemove=[zm(document).mousemove(a),a];e.mouseup=[zm(document).mouseup(b),b];if(zm.browser.msie&&typeof h.onselectstart!="undefined"){var g=function(){return zm.data(h,"dragdrop.start")!=true};e.selectstart=[this.bind("selectstart",g),g]}zm.data(h,"dragdrop.events",e)},stopDragDrop:function(){var a=zm.data(this[0],"dragdrop.events");zm.each(a,function(c){this[0].unbind(c,this[1])});zm.removeData(this[0],"dragdrop.events");var b=this.getDragDropResult();zm.removeData(this[0],"dragdrop.start");return b},getDragDropResult:function(){if(zm.data(this[0],"dragdrop.start")){var b=new Array();for(var a=0,e;e=this.children()[a];a++){var d=zm.data(e,"dragdrop.index");b.push(d)}return b}return null}});zm.install("popup",{calloutPopup:function(f){if(!zm.plugins.popup.initialized){zm.plugins.popup.init();zm.plugins.popup.initialized=true}var d=zm("#zme-callout-popup-content"),b=zm("#zme-callout-popup");d.html("").append(f);var i=this.offset(true),a=zm.getViewport(),e=this.height(),c=i.top+e/2;i.left+=zm.intval(this.css("padding-left"))+zm.intval(this.css("margin-left"));if(a.offsetY+a.height/2<=c){d.attr("class","zme-callout-content-upper");zm("#zme-callout-popup-head").hide();zm("#zme-callout-popup-bottom").css("padding-left","12px").show();b.css("top",(i.top-b.outerHeight())+"px")}else{d.attr("class","zme-callout-content-lower");zm("#zme-callout-popup-bottom").hide();zm("#zme-callout-popup-head").css("padding-left","12px").show();b.css("top",(i.top+e)+"px")}var j=b.outerWidth(),g=i.left+j+15;if(a.offsetX+a.width>g){b.css("left",i.left+"px")}else{b.css("left",(i.left+this.width()-j)+"px");if(a.offsetY+a.height/2<=c){zm("#zme-callout-popup-bottom").css("padding-left",(b.width()-24)+"px")}else{zm("#zme-callout-popup-head").css("padding-left",(b.width()-24)+"px")}}},hideCalloutPopup:function(){zm("#zme-callout-popup").css({left:"-9999px",top:"0px"})}},function(){zm.plugins.popup.init=function(){zm.ready(function(){var b=zm.createElement("DIV",{id:"zme-callout-popup"}),f=zm.createElement("DIV",{id:"zme-callout-popup-content"}),e=zm.createElement("DIV",{id:"zme-callout-popup-head"}),d=zm.createElement("DIV",{id:"zme-callout-popup-bottom"}),c=zm.createElement("DIV",{"class":"zme-callout-arrow"}),a=zm.createElement("DIV",{"class":"zme-callout-arrow"});e.appendChild(c);d.appendChild(a);b.appendChild(e);b.appendChild(f);b.appendChild(d);document.body.appendChild(b)})}});zm.install("tooltip",{showTip:function(c,i){if(this.size()==0){return}zm.plugins.tooltip.init();zm("#zmtipctn").html(c);i=zm.extend({},zm.plugins.tooltip.defOptions,i);var h=zm("#zmtip"),e,b,f=this.offset(true),d=i.position;h.attr("class","tip_outer "+i.tipClass);i.width&&h.css("width",i.width+"px");if(d.indexOf("bot")==0){e=f.top-h.outerHeight()-5}else{e=f.top+this.outerHeight()+5}var g=h.outerWidth(),a=this.outerWidth();if(d.substr(3)=="left"){b=f.left+5}else{if(d.substr(3)=="right"){b=f.left+a-g-5}else{b=f.left+Math.floor((a-g)/2)}}zm.plugins.tooltip._setArrow(d);e+=i.offsetTop;b+=i.offsetLeft;zm.plugins.tooltip._show(e,b,i)},hideTip:function(){zm.hideTip()}},function(){zm.plugins.tooltip.init=function(){if(zm("#zmtip").size()>0){return}zm.ready(function(){var a=zm.createElement("DIV",{id:"zmtip","class":"tip_outer"},{top:"-9999px",left:"0px"});zm(a).html('<div class="tip_box">				<span id="zmtiparrow" class="tip_arrow skin"></span>				<a id="zmtipclose" href="#" class="tip_close" title="Đóng" style="display: none" onclick="zm.hideTip(); return false;">Đóng</a>				<div class="tip_inner">					<div id="zmtipctn"></div>				</div>            </div>');document.body.appendChild(a)})};zm.plugins.tooltip.defOptions={position:"topcenter",tipClass:"",close:false,offsetTop:0,offsetLeft:0};zm.showTip=function(d,c){if(!c&&!c.inElement){return}zm.plugins.tooltip.init();c=zm.extend({},zm.plugins.tooltip.defOptions,c);var a=zm("#zmtip"),g=c.position,f=c.top,e=c.left;a.attr("class","tip_outer "+c.tipClass);c.width&&a.css("width",c.width+"px");zm("#zmtipctn").html(d);zm(c.inElement).append(a);zm.plugins.tooltip._setArrow(g);var b=zm("#zmtip").outerWidth();if(!c.absLeft){if(g.substr(3)=="right"){e-=b+5}else{if(g.substr(3)!="left"){e-=Math.floor(b/2)}}}zm.plugins.tooltip._show(f,e,c)};zm.hideTip=function(){if(zm.plugins.tooltip.showing){var a=zm("#zmtip");if(zm.browser.msie){a.remove();zm.isFunction(zm.plugins.tooltip.afterHide)&&zm.plugins.tooltip.afterHide();zm.plugins.tooltip.afterHide=null}else{a.fadeOut(function(){this.remove();zm.isFunction(zm.plugins.tooltip.afterHide)&&zm.plugins.tooltip.afterHide();zm.plugins.tooltip.afterHide=null})}zm.plugins.tooltip.showing=false}};zm.plugins.tooltip._show=function(e,d,b){zm("#zmtipclose")[b.close?"show":"hide"]();var a;if(typeof b.timeout=="number"){a=function(){setTimeout(function(){zm.hideTip()},b.timeout)}}zm.plugins.tooltip.afterHide=b.afterHide;var c=zm("#zmtip");c.css({top:e+"px",left:d+"px"});if(zm.browser.msie){a&&a()}else{c.fadeIn(a)}zm.plugins.tooltip.showing=true};zm.plugins.tooltip._setArrow=function(c){var a=Math.floor((zm("#zmtip").outerWidth()-20-13)/2),b="";if(c.substr(3)=="left"){b=-a+"px"}else{if(c.substr(3)=="right"){b=a+"px"}}zm("#zmtiparrow").css("left",b)}});zm.install("displaybox",{showDisplaybox:function(f,j){if(this.size()==0){return}var h=true,g=(j&&j.followElement&&zm(j.followElement))||this;g.parents().each(function(){if(zm(this).css("display")=="none"){h=false;return false}});if(!h){return}zm.plugins.displaybox.init();j=zm.extend({},zm.plugins.displaybox.defOptions,j);j.header&&zm("#zmtdbox .dboxheader").html(j.header);j.footer&&zm("#zmtdbox .dboxfooter").html(j.footer);zm("#zmtdbox .dboxcontent").html(f);var d,a,b=this;if(j.checkImage){d=zm("#zmtdbox img");if(j.ignoreImages){a=zm(j.ignoreImages)}var c=0,i=function(){if(zm(this).parents("body").size()==0){return}c++;if(c==d.size()){zm.plugins.displaybox.show(b,g,j)}}}if(d&&d.size()>0){d.each(function(){if(a&&zm.inArray(this,a)>-1){return}if(this.complete){i.call(this)}else{this.onload=this.onerror=i}})}else{if(j.delay){if(zm.plugins.displaybox.timeout){clearTimeout(zm.plugins.displaybox.timeout)}zm.plugins.displaybox.timeout=setTimeout(function(){zm.plugins.displaybox.show(b,g,j)},j.delay)}else{zm.plugins.displaybox.show(this,g,j)}}this.clickOutside(function(){var k=this;setTimeout(function(){zm.plugins.displaybox.element==k&&zm(k).hideDisplaybox()},150)},0,true,j.group||"zmcog.displaybox");this.clickOutsideWith(zm("#zmdbox"))},hideDisplaybox:function(){var a=zm.plugins.displaybox.beforHide;zm.isFunction(a)&&a.call(zm.plugins.displaybox.element);zm("#zmdbox").css({top:"-9999px",left:"-9999px"});zm.plugins.displaybox.showing=false;zm.plugins.displaybox.element=null},toggleDisplaybox:function(b,a){if(zm.plugins.displaybox.showing&&zm.plugins.displaybox.element==this[0]){this.hideDisplaybox()}else{this.showDisplaybox(b,a)}}},function(){zm.plugins.displaybox.init=function(){if(zm("#zmdbox").size()>0){return}zm.ready(function(){var b=zm.createElement("DIV",{id:"zmdbox","class":"ctndisbox",tabindex:"-1"},{top:"-9999px",left:"-9999px",outline:"none"}),c=zm.createElement("DIV",{id:"zmtdbox","class":"ctndisbox"},{top:"-9999px",left:"-9999px"}),a='<span id="zm{ID}dboxtoparrow" class="icodisbox"></span>					<div class="disbox">						<a id="zm{ID}dboxclose" href="#" class="disboxclose" title="Đóng" style="display: none">Đóng</a>						<div class="contdisbox">							<div class="disbox_inner">								<div id="zm{ID}dboxwrap"><div class="dboxheader"></div><div class="dboxcontent"></div><div class="dboxfooter"></div></div>								<div class="clr"></div>							</div>						</div>					</div>					<span id="zm{ID}dboxbotarrow" class="icodisbox"></span>';zm(b).append(a.replace(/\{ID\}/g,""));zm(c).append(a.replace(/\{ID\}/g,"t"));document.body.appendChild(b);document.body.appendChild(c);zm.plugins.displaybox.scrollUI=new zm.ScrollableUI().init().appendTo(zm("#zmdboxwrap .dboxcontent"));zm("#zmdboxclose").click(function(){var d=zm.plugins.displaybox.element;d&&zm(d).hideDisplaybox();return false})})};zm.plugins.displaybox.defOptions={position:"absolute",close:true,dboxClass:"",offsetTop:0,offsetLeft:0,checkImage:true};zm.plugins.displaybox.show=function(A,a,d){zm.isFunction(d.beforeShow)&&d.beforeShow.call(A);var j=zm("#zmdbox"),n=zm("#zmtdbox"),v="ctndisbox "+d.dboxClass,B="contdisbox",w=d.position||"absolute",f=a.offset(w=="absolute"),r=A.outerHeight(),s=Math.floor(r/2),x=zm.getViewport(),z=w=="absolute"?x.offfsetY:0,u="icodisbox ",c="top",y="bot",q,e,p,m;n.attr("class",v);if(d.noPad){B="contdisboxnopad"}n.children(".disbox").children("div").attr("class",B);j.children(".disbox").children("div").attr("class",B);var b=n.outerHeight(true),C=n.outerWidth(true),l=d.minTop||20,i=d.minBottom||20,k=n.find(".dboxcontent").outerHeight(),h=x.height-b-l-i;var g=d.valign;if(g){if(g=="bottom"||(g==true&&f.left-x.offsetY>(x.height-r)/2)){q=f.top+r+8;c="top";y="bot";u+="top"}else{if(g=="top"){q=f.top-r-8;c="bot";y="top";u+="bot"}}e=f.left+(A.outerWidth()-C-7)/2;u+="left";p={"margin-top":"","margin-left":(d.margin||(C-5)/2)+"px"}}else{if(d.align!="right"&&f.left-x.offsetX>C){e=f.left-C-5;u+="lefttop"}else{e=f.left+A.outerWidth()+5;u+="righttop"}if(f.top<l+z){q=l+z}else{q=f.top}if(h<0){q=l+z;k+=h}else{if(s<15){q+=s-15}if((m=q+b+i-z-x.height)>0){q-=m}}var o=f.top-q+s-6;if(o<4){o=f.top+r-q-14}if(s<15){o=""}else{o+="px"}p={"margin-left":"","margin-top":o+"px"}}zm("#zmdbox"+c+"arrow").attr("class",u).css(p).show();zm("#zmdbox"+y+"arrow").hide();q+=d.offsetTop;e+=d.offsetLeft;j.attr("class",v);zm("#zmdbox .dboxheader").empty().append(zm("#zmtdbox .dboxheader").children());zm("#zmdbox .dboxfooter").empty().append(zm("#zmtdbox .dboxfooter").children());zm.plugins.displaybox.scrollUI.setContent(zm("#zmtdbox .dboxcontent").children()).setHeight(k+1).updateScrollbar(false);zm.plugins.displaybox.scrollUI.setWidth(d.width||"");zm("#zmdboxclose")[d.close?"show":"hide"]();j.css({top:q+"px",left:e+"px",position:d.position});zm.plugins.displaybox.showing=true;zm.plugins.displaybox.element=A[0];zm.plugins.displaybox.beforHide=d.beforeHide;zm.isFunction(d.afterShow)&&d.afterShow.call(A)}});zm.install("scrollableui",{},function(){zm.ScrollableUI=function(c){var m=zm.extend({},zm.ScrollableUI.defaultSettings,c),r,u,b=false,v=false,f=zm.extend({"class":"zmscrollableui"+(m.uiClass?" "+m.uiClass:"")},m.uiAttrs),l=zm.extend({},m.uiStyles),n=zm.createElement("DIV",f,l),g=zm.createElement("DIV",{"class":"zmscrollableui_wrapper"+(m.wrapperClass?" "+m.wrapperClass:""),tabindex:"0"}),k=zm.createElement("DIV",{"class":"zmscrollableui_body"+(m.bodyClass?" "+m.bodyClass:"")}),p=zm.createElement("DIV",{"class":"zmscrollableui_content"+(m.contentClass?" "+m.contentClass:"")}),a=zm.createElement("DIV",{"class":"zmscrollableui_bar"+(m.scrollbarClass?" "+m.scrollbarClass:"")},{visibility:"hidden"}),d=zm.createElement("DIV",{"class":"zmscrollableui_gripper"+(m.gripperClass?" "+m.gripperClass:"")});n.appendChild(g);n.appendChild(a);g.appendChild(k);a.appendChild(d);k.appendChild(p);m.content&&zm(p).append(m.content);var i=zm(n);if(m.width){i.css("width",m.width+"px");zm(k).css("width",m.width+"px")}m.height&&i.css("height",m.height+"px");function q(s){zm(k).hover(function(){zm.ScrollableUI.scrollingElement=g;h();o(true);!s.settings.alwaysShow&&e()},function(){h();if(!s.settings.alwaysShow){var w=zm.ScrollableUI.draggingElement;if(!w||w.parentNode.parentNode!=this){r=setTimeout(e,500)}}if(zm.ScrollableUI.scrollingElement==g){zm.ScrollableUI.scrollingElement=null}t()});zm(n).mousemove(function(w){var x=zm(n);if(zm.Boxy.mousePosition(w).left-x.left()>=x.width()-30){v=true;t();o(true)}else{v=false;!s.settings.alwaysShow&&e()}});zm(g).scroll(function(z){if(u){clearTimeout(u)}var y=this.scrollTop,x=0;if(y==0){x=-1}else{if(y+this.offsetHeight==this.scrollHeight){x=1}}o();!s.settings.alwaysShow&&!v&&e();var w=s.settings.onscroll;zm.isFunction(w)&&w.call(this,s,z,x)});zm(a).hover(function(){t()},function(){!s.settings.alwaysShow&&!s.mousedown&&e()});zm(d).mousedown(function(w){zm.ScrollableUI.scrollingElement=g;t();s.mousedown=true;s.offsetY=zm.Boxy.mousePosition(w).top-zm(this).top();zm.ScrollableUI.draggingObj=s;return false});if(zm.browser.msie){zm(a).bind("selectstart",function(){return false});zm(n).bind("selectstart",function(){return !s.mousedown})}}function o(s,B){var C=g.offsetHeight,x=g.scrollHeight;if(C==x){j(B);return}var A=zm(a).show(),w=a.offsetHeight,y=w*C/x,z=zm(d);if(y>4){y-=4}z.css("height",y+"px");setTimeout(function(){y=z.outerHeight();var F=g.scrollTop,E,D=x-C;if(F>=D){E=w-y}else{E=(w-y)/D*F}z.css("top",E+"px");b=true;s&&A.stopFading().css("visibility","").opacity(1)},50)}function e(){if(!b){return}if(u){clearTimeout(u)}u=setTimeout(function(){j()},1000)}function j(s){var w=zm(a);if(!b){return}if(s===false){w.hide()}else{w.fadeOut(function(){this.css("visibility","hidden");var x=this;b=false;setTimeout(function(){x.show()},100)})}}function t(){if(u){clearTimeout(u)}u=null}function h(){if(r){clearTimeout(r)}r=null}q(this);this.settings=m;this.init=function(){return this};this.appendTo=function(s){if(s.append){s.append(n)}else{s.appendChild(n)}this.init();return this};this.setContent=function(s){if(zm.isString(s)){zm(p).html(s)}else{zm(p).empty().append(s)}return this};this.setWidth=function(x){var s=x;if(zm.isNumber(x)){s+="px"}this.width=zm.intval(x);zm(n).css("width",s);zm(k).css("width",s);return this};this.getWidth=function(){return this.width};this.setHeight=function(w){var s=w;if(zm.isNumber(w)){s+="px"}this.height=zm.intval(w);zm(n).css("height",s);return this};this.getHeight=function(){return this.height};this.autoHeight=function(s){var w=k.scrollHeight;if(w>s||s==""){w=s}else{j(false)}this.setHeight(w);return this};this.getElement=function(){return n};this.getGripper=function(){return d};this.updateScrollbar=function(s){o(true,s);return this};this.scrollTo=function(s){if(g.scrollTop!=s){g.scrollTop=s}return this};this.scrollToEnd=function(){g.scrollTop=g.scrollHeight;return this};this.scrollToTop=function(){if(g.scrollTop!=0){g.scrollTop=0}return this};this.scrollTop=function(s){if(s==undefined){return g.scrollTop}g.scrollTop=s;return this};this.scrollLeft=function(s){if(s==undefined){return g.scrollLeft}g.scrollLeft=s;return this};this.showScrollbar=function(){o(true);return this};this.hideScrollbar=function(s){t();h();j(s);return this};this.show=function(){zm(n).show();return this};this.hide=function(){zm(n).hide();return this};this.clear=function(){zm(p).empty();return this};this.remove=function(){zm(n).remove()}};zm(document).mousemove(function(f){var c=zm.ScrollableUI.draggingObj;if(c){var j=zm.Boxy.mousePosition(f).top,l=c.getGripper(),d=zm(l),m=d.outerHeight(),h=d.parent(),a=h.height(),i=j-h.top()-(c.offsetY||0),b=i<=0||i>=a-m;if(i<0){i=0}if(i>a-m){i=a-m}var k=h.parent().children().get(0)[0];if(!zm.browser.msie){k.scrollTop+=1;k.scrollTop-=1}if(b&&i>0){k.scrollTop=k.scrollHeight}else{k.scrollTop=zm.intval(i*(k.scrollHeight-k.offsetHeight)/(a-m))}}}).mouseup(function(){var a=zm.ScrollableUI.draggingObj;if(a){a.hideScrollbar(true);a.mousedown=false;a.offsetY=null;zm.ScrollableUI.draggingObj=null}});zm(document.documentElement).mousewheel(function(h){if((typeof h.axis!=="undefined"&&h.axis===h.HORIZONTAL_AXIS)||(h.wheelDeltaX&&!h.wheelDeltaY)){h.preventDefault()}else{if(zm.ScrollableUI.scrollingElement){var m=h.wheelDeltaY||h.wheelDelta||h.detail,a=zm.ScrollableUI.scrollingElement,f=a.scrollHeight,n=a.offsetHeight,l=zm(a).parents();for(var c=0,b;b=l.get(c);c++){if(b.css("display")=="none"){zm.ScrollableUI.scrollingElement=null;return}}if(f>n){var k=a.scrollTop;if(((zm.browser.firefox?m<0:m>0)&&k==0)||((zm.browser.firefox?m>0:m<0)&&k>=f-n)){h.preventDefault()}else{if(zm.browser.msie&&zm.browser.version<9){var g=zm(a).css("font-size");if(g.indexOf("px")<0){var j=zm.createElement("DIV");j.style.fontSize=g;j.style.height="1em";g=j.style.pixelHeight}else{g=parseInt(g,10)}a.scrollTop=k-Math.round(m/120*g);h.preventDefault()}}}}}});if(zm.browser.msie){zm(document).bind("selectstart",function(){var a=zm.ScrollableUI.draggingObj;if(a&&a.mousedown){return false}})}zm.ScrollableUI.defaultSettings={}});zm.install("box",{autoArrangeBox:function(m){var J=this.children();if(m&&m.filterItem){J.filter(m.filterItem)}if(!J||J.size()<1){return this}if(this.data("box.autoresize")!=1){zm.plugins.box.elems.push({element:this,options:m});this.data("box.autoresize",1)}m=zm.extend({},zm.plugins.box.defSettings,m);var q=this.parent().parent(),H=q.offset().left,D=zm.intval(m.from),c=m.force||D>0;if(H<0&&!c){return this}var d=m.getMaxWidth,z=(zm.isFunction(d)&&d.call(this))||(q.width()-H-20),o=0,K=m.padding,p=m.paddingBottom||K,v=m.paddingRight||K,L=m.minColumn,n,t,a=new Array(),F,I,f,N=0;for(F=0,I;I=J.get(F);F++){var s=I.outerWidth();if(s>0){n=s+v;break}}t=Math.floor(z/n);if(t==zm.intval(this.data("box.cols"))&&!c){return this}var u=m.beforeArrange;zm.isFunction(u)&&u(t,n,z);if(t<L&&!c){return this}this.data("box.cols",t);if(D>0){for(F=D-1;I=J.get(F);F--){if(a.length>=t){break}if(!f){f=new Array()}var y=I.outerHeight();if(y>0){var B=zm.intval(I.css("left")),M=zm.intval(I.css("top"))+y;if(f.length==0){f.push(B);a.push(M)}else{var C=-1;for(var E=0;E<f.length;E++){if(f[E]==B){break}if(f[E]<B){if(E==f.length-1){C=E+1}continue}if(f[E]>B){C=E;break}C=0}if(C>-1){f.splice(C,0,B);a.splice(C,0,M)}}}}}for(F=D;I=J.get(F);F++){var x=0,G=I.outerHeight();if(G==0){continue}if(a.length<t){o=a.length%t*n;if(D>0&&f.length<t){f.push(o)}a.push(G)}else{var r=Math.min.apply(Math,a),A=zm.inArray(r,a);x=r+p;if(D>0&&f){o=f[A]}else{o=A*n}a[A]=x+G}I.css({top:x+"px",left:o+"px"}).attr("data-index",F);N++}this.css("height",Math.max.apply(Math,a)+"px").parent().css("width",(t*n-v)+"px");D==0&&this.data("box.total",N);var g=m.afterArrange;zm.isFunction(g)&&g(t,n,z);return this},getNumberBoxColumns:function(){return this.data("box.cols")},getNumberBoxes:function(){return this.data("box.total")},updateTopBox:function(m){var j=this.children();if(m&&m.filterItem){j.filter(m.filterItem)}if(!j||j.size()<1){return this}m=zm.extend({},zm.plugins.box.defSettings,m);var l=zm.intval(m.from),f=m.paddingBottom||m.padding,a,k;for(var b=l,g;g=j.get(b);b++){var d=g.outerHeight();if(d==0){continue}var c=zm.intval(g.css("left"));if(a===undefined){a=c}else{if(a!=c){continue}}if(k){g.css("top",(k+f)+"px")}k=zm.intval(g.css("top"))+d}if(this.height()<k){this.css("height",k+"px")}return this}},function(){zm.plugins.box.defSettings={padding:10,force:false,from:0};zm.plugins.box.elems=new Array();zm(window).resize(function(){for(var a=0,b;b=zm.plugins.box.elems[a];a++){b.options.force=false;b.from=0;b.element.autoArrangeBox(b.options)}})});